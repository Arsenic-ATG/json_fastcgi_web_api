\hypertarget{classJSONCGIHandler}{}\doxysubsection{J\+S\+O\+N\+C\+G\+I\+Handler Class Reference}
\label{classJSONCGIHandler}\index{JSONCGIHandler@{JSONCGIHandler}}


{\ttfamily \#include $<$json\+\_\+fastcgi\+\_\+web\+\_\+api.\+h$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classJSONCGIHandler_1_1GETCallback}{G\+E\+T\+Callback}}
\item 
class \mbox{\hyperlink{classJSONCGIHandler_1_1JSONGenerator}{J\+S\+O\+N\+Generator}}
\item 
class \mbox{\hyperlink{classJSONCGIHandler_1_1POSTCallback}{P\+O\+S\+T\+Callback}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classJSONCGIHandler_a9bf5a96d13949d363225561ba6ac3b56}{J\+S\+O\+N\+C\+G\+I\+Handler}} (\mbox{\hyperlink{classJSONCGIHandler_1_1GETCallback}{G\+E\+T\+Callback}} $\ast$arg\+Get\+Callback, \mbox{\hyperlink{classJSONCGIHandler_1_1POSTCallback}{P\+O\+S\+T\+Callback}} $\ast$arg\+Post\+Callback=nullptr, const char socketpath\mbox{[}$\,$\mbox{]}=\char`\"{}/tmp/fastcgisocket\char`\"{})
\item 
\mbox{\hyperlink{classJSONCGIHandler_a4817e428a962bdea68123f2d32671f30}{$\sim$\+J\+S\+O\+N\+C\+G\+I\+Handler}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::map$<$ std\+::string, std\+::string $>$ \mbox{\hyperlink{classJSONCGIHandler_a0f208af3dd050ed182967fe9cca42d78}{post\+Decoder}} (std\+::string s)
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
C++ wrapper around fast\+C\+GI which sends and receives J\+S\+ON in a j\+Query friendly format.

Copyright (C) 2021 Bernd Porr \href{mailto:mail@berndporr.me.uk}{\texttt{ mail@berndporr.\+me.\+uk}} Apache License 2.\+0 

\doxysubsubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classJSONCGIHandler_a9bf5a96d13949d363225561ba6ac3b56}\label{classJSONCGIHandler_a9bf5a96d13949d363225561ba6ac3b56}} 
\index{JSONCGIHandler@{JSONCGIHandler}!JSONCGIHandler@{JSONCGIHandler}}
\index{JSONCGIHandler@{JSONCGIHandler}!JSONCGIHandler@{JSONCGIHandler}}
\doxyparagraph{\texorpdfstring{JSONCGIHandler()}{JSONCGIHandler()}}
{\footnotesize\ttfamily J\+S\+O\+N\+C\+G\+I\+Handler\+::\+J\+S\+O\+N\+C\+G\+I\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classJSONCGIHandler_1_1GETCallback}{G\+E\+T\+Callback}} $\ast$}]{arg\+Get\+Callback,  }\item[{\mbox{\hyperlink{classJSONCGIHandler_1_1POSTCallback}{P\+O\+S\+T\+Callback}} $\ast$}]{arg\+Post\+Callback = {\ttfamily nullptr},  }\item[{const char}]{socketpath\mbox{[}$\,$\mbox{]} = {\ttfamily \char`\"{}/tmp/fastcgisocket\char`\"{}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor which opens the connection and starts the main thread. Provide an instance of the callback handler which returns the payload data. arg\+Post\+Callback is the callback which returns received json packets as a map. The optional socketpath variable can be set to another path for the socket which talks to the webserver. 
\begin{DoxyParams}{Parameters}
{\em arg\+Get\+Callback} & Callback handler for sending J\+S\+ON \\
\hline
{\em arg\+Post\+Callback} & Callback handler for receiving J\+S\+ON \\
\hline
{\em socketpath} & Path of the socket which communicates to the webserver \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classJSONCGIHandler_a4817e428a962bdea68123f2d32671f30}\label{classJSONCGIHandler_a4817e428a962bdea68123f2d32671f30}} 
\index{JSONCGIHandler@{JSONCGIHandler}!````~JSONCGIHandler@{$\sim$JSONCGIHandler}}
\index{````~JSONCGIHandler@{$\sim$JSONCGIHandler}!JSONCGIHandler@{JSONCGIHandler}}
\doxyparagraph{\texorpdfstring{$\sim$JSONCGIHandler()}{~JSONCGIHandler()}}
{\footnotesize\ttfamily J\+S\+O\+N\+C\+G\+I\+Handler\+::$\sim$\+J\+S\+O\+N\+C\+G\+I\+Handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Destructor which shuts down the connection to the webserver and it also terminates the thread which is waiting for requests. 

\doxysubsubsection{Member Function Documentation}
\mbox{\Hypertarget{classJSONCGIHandler_a0f208af3dd050ed182967fe9cca42d78}\label{classJSONCGIHandler_a0f208af3dd050ed182967fe9cca42d78}} 
\index{JSONCGIHandler@{JSONCGIHandler}!postDecoder@{postDecoder}}
\index{postDecoder@{postDecoder}!JSONCGIHandler@{JSONCGIHandler}}
\doxyparagraph{\texorpdfstring{postDecoder()}{postDecoder()}}
{\footnotesize\ttfamily static std\+::map$<$std\+::string,std\+::string$>$ J\+S\+O\+N\+C\+G\+I\+Handler\+::post\+Decoder (\begin{DoxyParamCaption}\item[{std\+::string}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Parses a P\+O\+ST string and returns a std\+::map with key/value pairs. It also converts back any xx style encoding back to chars using libcurl. Note this is a simple parser and it won\textquotesingle{}t deal with nested J\+S\+ON structures. 
\begin{DoxyParams}{Parameters}
{\em s} & The P\+O\+ST string to be decoded. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A std\+::map which conains the key/value pairs. 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
json\+\_\+fastcgi\+\_\+web\+\_\+api.\+h\end{DoxyCompactItemize}
